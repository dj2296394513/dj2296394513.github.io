<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="扯淡的小情绪" href="http://www.dgredamancy.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="扯淡的小情绪" href="http://www.dgredamancy.com/atom.xml"><link rel="alternate" type="application/json" title="扯淡的小情绪" href="http://www.dgredamancy.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.1.6"><meta name="keywords" content="js,html,css,jquery"><meta name="description" content="一个奋斗的小青年"><link rel="canonical" href="http://www.dgredamancy.com/posts/70bdb624/"><title>jQuery案例 -- 狂拍灰太狼 - jQuery | 扯淡的小情绪 = 扯淡的小情绪 = subtitle</title><meta name="generator" content="Hexo 5.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">jQuery案例 -- 狂拍灰太狼</h1><div class="meta"><span class="item" title="创建时间：2020-06-19 21:36:16"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-06-19T21:36:16+08:00">2020-06-19</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">扯淡的小情绪</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipesng5oej20zk0m87d4.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicitspjpbj20zk0m81ky.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipex2cdtbj20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipew28b65j20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giciukx8a7j20zk0m8aio.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main id="main"><div class="inner"><div id="content" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span> <i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/jQuery/" itemprop="item" rel="index" title="分类于 jQuery"><span itemprop="name">jQuery</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://www.dgredamancy.com/posts/70bdb624/index.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="DG"><meta itemprop="description" content="subtitle, 一个奋斗的小青年"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="扯淡的小情绪"></span><div class="body md" itemprop="articleBody"><h2 id="狂拍灰太狼补充音效"><a class="anchor" href="#狂拍灰太狼补充音效">#</a> 狂拍灰太狼 (补充音效)</h2><h3 id="案例效果展示"><a class="anchor" href="#案例效果展示">#</a> 案例效果展示</h3><p><img data-src="https://img-blog.csdnimg.cn/20200619201102242.gif#pic_center" alt="在这里插入图片描述"><br></p><h3 id="案例构架"><a class="anchor" href="#案例构架">#</a> 案例构架</h3><blockquote><p>1. 背景图片<br>2. 得分选项<br>3. 时间进度条<br>4. 游戏规则的点开以及关闭<br>5. 开始游戏选项和重新开始选项</p></blockquote><p><br><br></p><h3 id="案例思路"><a class="anchor" href="#案例思路">#</a> 案例思路</h3><ul><li>布局 html 页面的基本样式<ul><li>设置得分</li><li>设置时间进度条</li><li>设置开始游戏按键</li><li>设置游戏规则框架</li><li>设置游戏规则</li><li>设置 game over 和 重新开始按键</li></ul></li><li>设置这个游戏的基本规则<ul><li>1. 游戏时间：60s</li><li>2. 拼手速，殴打灰太狼 + 10 分</li><li>3. 殴打小灰灰 - 10 分</li></ul></li></ul><blockquote><p>接下来开始正题，<strong>js 的基本实现过程</strong></p></blockquote><ul><li><p>监听点击时的效果</p><ul><li>从游戏效果上看在开始游戏和重新游戏的时候会有图片的 <code>淡入淡出</code> 效果，在点击游戏规则和关闭上也会有 <code>淡入</code> 和 <code>淡出</code> 的效果<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 1. 监听游戏规则的点击</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".rules"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">// 淡入 -- fadeIN ()</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".rule"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 2. 监听关闭按钮的点击</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".close"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 淡出 -- fadeOUt ()</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".rule"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 3. 监听开始游戏按钮的点击</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment">// 开始游戏后实现游戏规则淡出效果</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 4. 监听重新开始按钮的点击</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".reStart"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">// 点击开始让重新开始界面淡出消失</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".mask"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>接下来要开始处理进度条结束后的问题，我们可以看到在进度条结束后出现的重新开始以及在我们点击重新开始的时候要保证进度条是满的 (也就是说要保证在点击之后 <code>width:180</code> )<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".progress"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	width<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>在进度条的基础上还要保证在重新开始点击按钮是 <code>得分为0</code><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ul></li><li><p>我们先解决进度条得问题</p><ul><li>重新设置进度条的宽度 -- 保证每一次点击开始游戏时进度条的宽度都是 180px<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".progress"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    width<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>开启定时器处理进度条的问题<ul><li>首先要拿到当前进度条的宽度<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">var</span> progressWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".progress"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>减少当前的宽度<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>progressWidth <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>其次重新给进度条赋值一个宽度<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".progress"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    width<span class="token operator">:</span> progressWidth<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>然后也是主要的 <code>判断进度条是否走完</code><ul><li>确认进度条已经走完时，要关闭定时器<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>重新显示开始界面 -- 让 game over 和重新开始界面淡入<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".mask"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ul></li></ul></li></ul></li><li><p>接下来我们要开始处理灰太狼和小灰灰的动画问题</p><ul><li><p>我们发现有小灰灰和灰太狼两种不同的图片，所以我们可以先定义两个数组，分别命名为 <code>wolf_1</code> 和 <code>wolf_2</code> , 将灰太狼和小灰灰的图片分别放在这两个数组中</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">var</span> wolf_1 <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token string">"./images/h0.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token string">"./images/h1.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token string">"./images/h2.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token string">"./images/h3.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token string">"./images/h4.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token string">"./images/h5.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token string">"./images/h6.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token string">"./images/h7.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token string">"./images/h8.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token string">"./images/h9.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">var</span> wolf_2 <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token string">"./images/x0.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token string">"./images/x1.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token string">"./images/x2.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token string">"./images/x3.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token string">"./images/x4.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token string">"./images/x5.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token string">"./images/x6.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token string">"./images/x7.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token string">"./images/x8.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token string">"./images/x9.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>其次要保存一个数组中图片可能出现的所有位置</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">var</span> arrPos <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"100px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"115px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"160px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"190px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"142px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"105px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"193px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"19px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"221px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"202px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"212px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"120px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"275px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"30px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"295px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"209px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"297px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>接下来我们要先创建一个图片，然后随机获取到图片的位置 ( <code>向上取整,四舍五入</code> )</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 3. 创建一个图片</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">var</span> $wolfImage <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;img src='' class='wolfImage'>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 随机获取图片的位置</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">var</span> posIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><blockquote><p><strong>向上取整，四舍五入</strong><br>0 * 8 = 0 == 0<br>0.1* 8 = 0.8 == 1<br>0.2* 8 = 1.6 == 2<br>0.3* 8 = 2.4 == 2<br>0.4* 8 = 3.2 == 3<br>0.5* 8 = 4.0 == 4<br>0.6* 8 = 4.8 == 5<br>0.7* 8 = 5.6 == 6<br>0.8* 8 = 6.4 == 6<br>0.9* 8 = 7.2 == 7<br>1* 8 = 8 == 8</p></blockquote></li><li><p>然后要设置图片显示的位置，利用随机位置实现随机图片的效果 (判断是否等于 0? 等于 0 为 wolf_1, 等于 1 为 wolf_2)</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">var</span> wolfType <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> wolf_1 <span class="token operator">:</span> wolf_2<span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>之后要设置图片的内容</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>window<span class="token punctuation">.</span>wolfIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>window<span class="token punctuation">.</span>wolfIndexEnd <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li>设置每隔一段时间切换一张图片效果<ul><li>判断图片是否到第五张<ul><li>到了第五张图片要删除图片<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>$wolfImage<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ul><pre><code>- 关闭定时器
	```javascript
	clearInterval(wolfTimer);
	```
- 然后动画做完之后继续调用做下一个动画
	```javascript
	startWolfAnimation();
	```

</code></pre></li></ul></li></ul></li></ul></li><li><p>之后在我们重新开始游戏后，让定时器再次开始，保证图片能够重新获取到显示的位置</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$wolfImage<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>然后我们要实现加分减分的过程</p><ul><li>首先能够想到的就是要保证图片能够点击一次，不可能要点击一次图片就让分数加一次<ul><li>修改索引<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>indow<span class="token punctuation">.</span>wolfIndex <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>window<span class="token punctuation">.</span>wolfIndexEnd <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>拿到当前点击图片的地址<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">var</span> $src <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>根据图片地址判断是否是灰太狼<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">var</span> flag <span class="token operator">=</span> $src<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"h"</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>根据点击的图片类型增减分数<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">// +10</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// -10</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul></li></ul></li><li><p>最后我们要保证在 <code>进度条为0</code> 后要停止灰太狼和小灰灰的动画</p><ul><li>要删除图片<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".wolfImage"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>然后关掉定时器<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">clearInterval</span><span class="token punctuation">(</span>wolfTimer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ul></li><li><p>补充 (加入音效效果)</p><ul><li>在开始点击以及重新开始的时候播放音乐</li><li>在游戏结束后音效自动停止<figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 开始动画时的音乐</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">function</span> <span class="token function">startmusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">var</span> $music <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;audio src='./我爱平底锅.mp3' loop='loop' autoplay='autoplay'>&lt;/audio>"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".music"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$music<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 游戏结束的关闭动画</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">function</span> <span class="token function">stopmusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".music"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul></li></ul><blockquote><p>之后还有一些零碎的细节要处理</p></blockquote><ul><li>比如要在点击重新开始按钮点击的时候要保证让开始游戏方法 <code>运作</code></li><li>比如在获取随机图片位置的时候保证是 <code>向上取整,四舍五入</code></li><li>比如在游戏点击灰太狼和小灰灰的时候出现的 <code>击打效果和加分效果</code></li></ul><p><br><br></p><h3 id="效果拆解"><a class="anchor" href="#效果拆解">#</a> 效果拆解</h3><h4 id="开始游戏界面"><a class="anchor" href="#开始游戏界面">#</a> 开始游戏界面</h4><p><img data-src="https://img-blog.csdnimg.cn/20200619211340225.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RlYXRoRG9tYWlu,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br></p><h4 id="重新游戏界面"><a class="anchor" href="#重新游戏界面">#</a> 重新游戏界面</h4><p><img data-src="https://img-blog.csdnimg.cn/20200619211759396.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RlYXRoRG9tYWlu,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br></p><h4 id="游戏规则界面"><a class="anchor" href="#游戏规则界面">#</a> 游戏规则界面</h4><p><img data-src="https://img-blog.csdnimg.cn/2020061921220566.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RlYXRoRG9tYWlu,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p></p><h4 id="游戏加分减分"><a class="anchor" href="#游戏加分减分">#</a> 游戏加分减分</h4><p><img data-src="https://img-blog.csdnimg.cn/20200619212419401.gif#pic_center" alt="在这里插入图片描述"></p><p></p><h4 id="时间进度条"><a class="anchor" href="#时间进度条">#</a> 时间进度条</h4><p><img data-src="https://img-blog.csdnimg.cn/2020061921270772.gif#pic_center" alt="在这里插入图片描述"></p><p><br><br><br></p><h3 id="图片地址"><a class="anchor" href="#图片地址">#</a> 图片地址</h3><blockquote><p>链接：<span class="exturl" data-url="aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMURVRGlTTkkydnJGTzh2a3FRdDlxR1E=">https://pan.baidu.com/s/1DUDiSNI2vrFO8vkqQt9qGQ</span><br>提取码：nkm9</p></blockquote><p><br><br><br></p><h3 id="代码展示"><a class="anchor" href="#代码展示">#</a> 代码展示</h3><ul><li>html 部分</li></ul><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre>&lt;!DOCTYPE html></pre></td></tr><tr><td data-num="2"></td><td><pre>&lt;html lang=<span class="token string">"en"</span>></pre></td></tr><tr><td data-num="3"></td><td><pre>&lt;head></pre></td></tr><tr><td data-num="4"></td><td><pre>    &lt;meta charset=<span class="token string">"UTF-8"</span>></pre></td></tr><tr><td data-num="5"></td><td><pre>    &lt;meta name=<span class="token string">"viewport"</span> content=<span class="token string">"width=device-width, initial-scale=1.0"</span>></pre></td></tr><tr><td data-num="6"></td><td><pre>    &lt;title>Document&lt;/title></pre></td></tr><tr><td data-num="7"></td><td><pre>    &lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"css/index.css"</span>></pre></td></tr><tr><td data-num="8"></td><td><pre>    &lt;script src=<span class="token string">"js/jquery-1.12.4.js"</span>>&lt;/script></pre></td></tr><tr><td data-num="9"></td><td><pre>    &lt;script src=<span class="token string">"js/index.js"</span>>&lt;/script></pre></td></tr><tr><td data-num="10"></td><td><pre>&lt;/head></pre></td></tr><tr><td data-num="11"></td><td><pre>&lt;body></pre></td></tr><tr><td data-num="12"></td><td><pre>    &lt;!-- 主体 --></pre></td></tr><tr><td data-num="13"></td><td><pre>    &lt;div class=<span class="token string">"container"</span>></pre></td></tr><tr><td data-num="14"></td><td><pre>        &lt;!-- 设置得分 -- 默认为0 --></pre></td></tr><tr><td data-num="15"></td><td><pre>        &lt;h1 class=<span class="token string">"score"</span>>0&lt;/h1></pre></td></tr><tr><td data-num="16"></td><td><pre>        &lt;!-- 设置时间的进度条 --></pre></td></tr><tr><td data-num="17"></td><td><pre>        &lt;div class=<span class="token string">"progress"</span>>&lt;/div></pre></td></tr><tr><td data-num="18"></td><td><pre>        &lt;!-- 设置开始游戏 --></pre></td></tr><tr><td data-num="19"></td><td><pre>        &lt;button class=<span class="token string">"start"</span>>开始游戏&lt;/button></pre></td></tr><tr><td data-num="20"></td><td><pre>        &lt;!-- 设置最下面的游戏规则的框架 --></pre></td></tr><tr><td data-num="21"></td><td><pre>        &lt;div class=<span class="token string">"rules"</span>>游戏规则&lt;/div></pre></td></tr><tr><td data-num="22"></td><td><pre>        &lt;!-- 设置最下面的游戏规则 -- 默认隐藏 --></pre></td></tr><tr><td data-num="23"></td><td><pre>        &lt;div class=<span class="token string">"rule"</span>></pre></td></tr><tr><td data-num="24"></td><td><pre>            &lt;p><span class="token property">游戏规则</span><span class="token punctuation">:</span>&lt;/p></pre></td></tr><tr><td data-num="25"></td><td><pre>            &lt;p>1.<span class="token property">游戏时间</span><span class="token punctuation">:</span>60s&lt;/p></pre></td></tr><tr><td data-num="26"></td><td><pre>            &lt;p>2.拼手速<span class="token punctuation">,</span>殴打灰太狼+10分&lt;/p></pre></td></tr><tr><td data-num="27"></td><td><pre>            &lt;p>3.殴打小灰灰-10分&lt;/p></pre></td></tr><tr><td data-num="28"></td><td><pre>            &lt;a href=<span class="token string">"#"</span> class=<span class="token string">"close"</span>>[关闭]&lt;/a></pre></td></tr><tr><td data-num="29"></td><td><pre>        &lt;/div></pre></td></tr><tr><td data-num="30"></td><td><pre>        &lt;!-- 设置输了的game over和重新开始 -- 默认不显示--></pre></td></tr><tr><td data-num="31"></td><td><pre>        &lt;div class=<span class="token string">"mask"</span>></pre></td></tr><tr><td data-num="32"></td><td><pre>            &lt;h1>GAME OVER&lt;/h1></pre></td></tr><tr><td data-num="33"></td><td><pre>            &lt;button class=<span class="token string">"reStart"</span>>重新开始&lt;/button></pre></td></tr><tr><td data-num="34"></td><td><pre>        &lt;/div></pre></td></tr><tr><td data-num="35"></td><td><pre>    &lt;/div></pre></td></tr><tr><td data-num="36"></td><td><pre>&lt;/body></pre></td></tr><tr><td data-num="37"></td><td><pre>&lt;/html></pre></td></tr></table></figure><p><br></p><ul><li>css 部分</li></ul><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token selector">*</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/* 主体 */</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token selector">.container</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 480px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../images/game_bg.jpg"</span><span class="token punctuation">)</span></span> no-repeat 0 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token property">margin</span><span class="token punctuation">:</span> 50px auto<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">/* 设置得分 */</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token selector">.container>h1</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token property">margin-left</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">/* 设置时间的进度条 */</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token selector">.container>.progress</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../images/progress.png"</span><span class="token punctuation">)</span></span> no-repeat 0 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 66px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 63px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">/* 设置开始游戏 */</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token selector">.container>.start</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token property">line-height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>#E55C3D<span class="token punctuation">,</span>#C50000<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token property">margin-left</span><span class="token punctuation">:</span> -75px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment">/* 设置最下面的游戏规则的框架 */</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token selector">.container>.rules</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token comment">/* 设置最下面的游戏规则 */</span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token selector">.container>.rule</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>    <span class="token property">padding-top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre><span class="token comment">/* 设置规则的字体颜色和大小 */</span></pre></td></tr><tr><td data-num="74"></td><td><pre><span class="token selector">.rule>p</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>    <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="78"></td><td><pre><span class="token selector">.rule>a</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="81"></td><td><pre></pre></td></tr><tr><td data-num="82"></td><td><pre><span class="token comment">/* 设置输了的 game over 和 重新开始 */</span></pre></td></tr><tr><td data-num="83"></td><td><pre><span class="token selector">.container>.mask</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>    <span class="token property">padding-top</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="96"></td><td><pre></pre></td></tr><tr><td data-num="97"></td><td><pre><span class="token comment">/* 设置 game over 的颜色、大小和阴影 */</span></pre></td></tr><tr><td data-num="98"></td><td><pre><span class="token selector">.mask>h1</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #ff4500<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>    <span class="token property">text-shadow</span><span class="token punctuation">:</span> 3px 3px 0 #fff<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="103"></td><td><pre></pre></td></tr><tr><td data-num="104"></td><td><pre><span class="token comment">/* 设置重新开始按钮 */</span></pre></td></tr><tr><td data-num="105"></td><td><pre><span class="token selector">.mask>button</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>    <span class="token property">line-height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>#74ACCF<span class="token punctuation">,</span>#007DDC<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="116"></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="117"></td><td><pre>    <span class="token property">margin-left</span><span class="token punctuation">:</span> -75px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><br></p><ul><li>js 部分</li></ul><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 先做游戏规则</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 确保开始游戏和重新游戏时规则的淡入淡出问题</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 处理进度条在结束后出现重新开始，以及在点击重新开始时保证时间的进度条是满的 (width:180)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 开始处理灰太狼和小灰灰的动画问题</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 分别处理灰太狼和小灰灰的图片 (放在两个数组内)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 获取到图片的不同位置</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 随机获取到图片的位置</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 随机获取两组数组中的位置</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 利用随机位置实现随机图片效果</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 实现每隔一段时间切换一张图片</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 判断是否到了第五张图片，到了删掉，关掉定时器，然后动画做完之后继续调用做下一个动画</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 在重新开始游戏后，让定时器重新开始，图片重新获取位置显示</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 实现加分减分</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 拿到点击图片的地址，进行判断，辨别是否是灰太狼</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">// 1. 监听游戏规则的点击</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".rules"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token comment">// 淡入 -- fadeIN ()</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".rule"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token comment">// 2. 监听关闭按钮的点击</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".close"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token comment">// 淡出 -- fadeOUt ()</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".rule"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token comment">// 3. 监听开始游戏按钮的点击</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token comment">// 开始游戏后实现游戏规则淡出效果</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token comment">// 调用处理进度条的方法</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token function">progressHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token comment">// 调用处理灰太狼动画的方法</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token function">startWolfAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token comment">// 开始播放音乐按钮</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token function">startmusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token comment">// 4. 监听重新开始按钮的点击</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".reStart"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token comment">// 得分重置为 0</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token comment">// 点击开始让重新开始界面淡出消失</span></pre></td></tr><tr><td data-num="46"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".mask"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>        <span class="token comment">// 调用处理进度条的方法</span></pre></td></tr><tr><td data-num="48"></td><td><pre>        <span class="token function">progressHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>        <span class="token comment">// 调用处理灰太狼动画的方法 -- 点击重新开始游戏后，让开始游戏方法运作</span></pre></td></tr><tr><td data-num="50"></td><td><pre>        <span class="token function">startWolfAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        <span class="token comment">// 开始播放音乐按钮</span></pre></td></tr><tr><td data-num="52"></td><td><pre>        <span class="token function">startmusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre>    <span class="token comment">// 定义一个专门处理进度条的方法</span></pre></td></tr><tr><td data-num="56"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">progressHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>        <span class="token comment">// 重新设置进度条的宽度 -- 保证每一次点击开始游戏时进度条的宽度都是 180px</span></pre></td></tr><tr><td data-num="58"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".progress"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            width<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="60"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>        <span class="token comment">// 开启定时器处理进度条</span></pre></td></tr><tr><td data-num="62"></td><td><pre>        <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>            <span class="token comment">// 拿到进度条当前的宽度</span></pre></td></tr><tr><td data-num="64"></td><td><pre>            <span class="token keyword">var</span> progressWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".progress"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>            <span class="token comment">// 减少当前的宽度</span></pre></td></tr><tr><td data-num="66"></td><td><pre>            progressWidth <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token comment">// 重新给进度条赋值宽度</span></pre></td></tr><tr><td data-num="68"></td><td><pre>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".progress"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>                width<span class="token operator">:</span> progressWidth<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="70"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>            <span class="token comment">// 监听进度条是否走完</span></pre></td></tr><tr><td data-num="72"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>progressWidth <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>                <span class="token comment">// 关闭定时器 -- 确认进度条已经走完</span></pre></td></tr><tr><td data-num="74"></td><td><pre>                <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>                <span class="token comment">// 显示重新开始界面 -- 让 game over 和重新开始界面淡入</span></pre></td></tr><tr><td data-num="76"></td><td><pre>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".mask"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>                <span class="token comment">// 进度条归 0 后停止灰太狼的动画</span></pre></td></tr><tr><td data-num="78"></td><td><pre>                <span class="token function">stopWolfAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>                <span class="token comment">// 停止背景音乐</span></pre></td></tr><tr><td data-num="80"></td><td><pre>                <span class="token function">stopmusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="81"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>        <span class="token keyword">return</span> timer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="85"></td><td><pre></pre></td></tr><tr><td data-num="86"></td><td><pre>    <span class="token keyword">var</span> wolfTimer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>    <span class="token comment">// 定义一个专门处理灰太狼动画的方法</span></pre></td></tr><tr><td data-num="88"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">startWolfAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>        <span class="token comment">// 1. 定义两个数组分别保存灰太狼和小灰灰的图片</span></pre></td></tr><tr><td data-num="90"></td><td><pre>        <span class="token keyword">var</span> wolf_1 <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="91"></td><td><pre>            <span class="token string">"./images/h0.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="92"></td><td><pre>            <span class="token string">"./images/h1.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="93"></td><td><pre>            <span class="token string">"./images/h2.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="94"></td><td><pre>            <span class="token string">"./images/h3.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="95"></td><td><pre>            <span class="token string">"./images/h4.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="96"></td><td><pre>            <span class="token string">"./images/h5.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="97"></td><td><pre>            <span class="token string">"./images/h6.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="98"></td><td><pre>            <span class="token string">"./images/h7.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="99"></td><td><pre>            <span class="token string">"./images/h8.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="100"></td><td><pre>            <span class="token string">"./images/h9.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="101"></td><td><pre>        <span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>        <span class="token keyword">var</span> wolf_2 <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="103"></td><td><pre>            <span class="token string">"./images/x0.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="104"></td><td><pre>            <span class="token string">"./images/x1.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="105"></td><td><pre>            <span class="token string">"./images/x2.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="106"></td><td><pre>            <span class="token string">"./images/x3.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="107"></td><td><pre>            <span class="token string">"./images/x4.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="108"></td><td><pre>            <span class="token string">"./images/x5.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="109"></td><td><pre>            <span class="token string">"./images/x6.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="110"></td><td><pre>            <span class="token string">"./images/x7.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="111"></td><td><pre>            <span class="token string">"./images/x8.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="112"></td><td><pre>            <span class="token string">"./images/x9.png"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="113"></td><td><pre>        <span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre></pre></td></tr><tr><td data-num="115"></td><td><pre>        <span class="token comment">// 2. 定义一个数组保存所有可能出现的位置</span></pre></td></tr><tr><td data-num="116"></td><td><pre>        <span class="token keyword">var</span> arrPos <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="117"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"100px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"115px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="118"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"160px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="119"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"190px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"142px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="120"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"105px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"193px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="121"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"19px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"221px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="122"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"202px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"212px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="123"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"120px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"275px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="124"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"30px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"295px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="125"></td><td><pre>            <span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token string">"209px"</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token string">"297px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="126"></td><td><pre>        <span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>      </pre></td></tr><tr><td data-num="128"></td><td><pre></pre></td></tr><tr><td data-num="129"></td><td><pre>        <span class="token comment">// 3. 创建一个图片</span></pre></td></tr><tr><td data-num="130"></td><td><pre>        <span class="token keyword">var</span> $wolfImage <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;img src='' class='wolfImage'>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>        <span class="token comment">// 随机获取图片的位置</span></pre></td></tr><tr><td data-num="132"></td><td><pre>        <span class="token keyword">var</span> posIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="133"></td><td><pre>        <span class="token comment">// 4. 设置图片显示的位置</span></pre></td></tr><tr><td data-num="134"></td><td><pre>        $wolfImage<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="135"></td><td><pre>            position<span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="136"></td><td><pre>            left<span class="token operator">:</span> arrPos<span class="token punctuation">[</span>posIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="137"></td><td><pre>            top<span class="token operator">:</span> arrPos<span class="token punctuation">[</span>posIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>top<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="138"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="139"></td><td><pre>        <span class="token comment">// 随机获取数组类型 -- 判断是否等于 0? 等于 0 为 wolf_1, 等于 1 为 wolf_2</span></pre></td></tr><tr><td data-num="140"></td><td><pre>        <span class="token keyword">var</span> wolfType <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> wolf_1 <span class="token operator">:</span> wolf_2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>        <span class="token comment">// 5. 设置图片的内容</span></pre></td></tr><tr><td data-num="142"></td><td><pre>        window<span class="token punctuation">.</span>wolfIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="143"></td><td><pre>        window<span class="token punctuation">.</span>wolfIndexEnd <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>        <span class="token comment">// 设置每隔一段时间切换一张图片效果</span></pre></td></tr><tr><td data-num="145"></td><td><pre>        wolfTimer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>            <span class="token comment">// 判断图片是否到第五张</span></pre></td></tr><tr><td data-num="147"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>wolfIndex <span class="token operator">></span> wolfIndexEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="148"></td><td><pre>                <span class="token comment">// 到了第五张删掉图片</span></pre></td></tr><tr><td data-num="149"></td><td><pre>                $wolfImage<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="150"></td><td><pre>                <span class="token comment">// 关掉定时器</span></pre></td></tr><tr><td data-num="151"></td><td><pre>                <span class="token function">clearInterval</span><span class="token punctuation">(</span>wolfTimer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="152"></td><td><pre>                <span class="token comment">// 动画做完之后继续调用做下一个动画</span></pre></td></tr><tr><td data-num="153"></td><td><pre>                <span class="token function">startWolfAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="154"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="155"></td><td><pre>            $wolfImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span> wolfType<span class="token punctuation">[</span>wolfIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="156"></td><td><pre>            wolfIndex<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="157"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="158"></td><td><pre></pre></td></tr><tr><td data-num="159"></td><td><pre>        <span class="token comment">// 6. 将图片添加到界面上</span></pre></td></tr><tr><td data-num="160"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$wolfImage<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="161"></td><td><pre></pre></td></tr><tr><td data-num="162"></td><td><pre>        <span class="token comment">// 7. 调用处理游戏规则的方法 -- 实现加分减分</span></pre></td></tr><tr><td data-num="163"></td><td><pre>        <span class="token function">gameRules</span><span class="token punctuation">(</span>$wolfImage<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="164"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="165"></td><td><pre></pre></td></tr><tr><td data-num="166"></td><td><pre></pre></td></tr><tr><td data-num="167"></td><td><pre>    <span class="token comment">// 实现加分减分</span></pre></td></tr><tr><td data-num="168"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">gameRules</span><span class="token punctuation">(</span><span class="token parameter">$wolfImage</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="169"></td><td><pre>        <span class="token comment">// 确保图片只能够点击一次</span></pre></td></tr><tr><td data-num="170"></td><td><pre>        $wolfImage<span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="171"></td><td><pre>            <span class="token comment">// 修改索引</span></pre></td></tr><tr><td data-num="172"></td><td><pre>            window<span class="token punctuation">.</span>wolfIndex <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="173"></td><td><pre>            window<span class="token punctuation">.</span>wolfIndexEnd <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="174"></td><td><pre></pre></td></tr><tr><td data-num="175"></td><td><pre>            <span class="token comment">// 拿到当前点击图片的地址</span></pre></td></tr><tr><td data-num="176"></td><td><pre>            <span class="token keyword">var</span> $src <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="177"></td><td><pre>            <span class="token comment">// 根据图片地址判断是否是灰太狼</span></pre></td></tr><tr><td data-num="178"></td><td><pre>            <span class="token keyword">var</span> flag <span class="token operator">=</span> $src<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"h"</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="179"></td><td><pre>            <span class="token comment">// 根据点击的图片类型增减分数</span></pre></td></tr><tr><td data-num="180"></td><td><pre>            <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="181"></td><td><pre>                <span class="token comment">// +10</span></pre></td></tr><tr><td data-num="182"></td><td><pre>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="183"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="184"></td><td><pre>                <span class="token comment">// -10</span></pre></td></tr><tr><td data-num="185"></td><td><pre>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".score"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="186"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="187"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="188"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="189"></td><td><pre></pre></td></tr><tr><td data-num="190"></td><td><pre></pre></td></tr><tr><td data-num="191"></td><td><pre>    <span class="token comment">// 进度条归 0 后停止灰太狼的动画</span></pre></td></tr><tr><td data-num="192"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">stopWolfAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="193"></td><td><pre>        <span class="token comment">// 删掉图片</span></pre></td></tr><tr><td data-num="194"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".wolfImage"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="195"></td><td><pre>        <span class="token comment">// 关掉定时器</span></pre></td></tr><tr><td data-num="196"></td><td><pre>        <span class="token function">clearInterval</span><span class="token punctuation">(</span>wolfTimer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="197"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="198"></td><td><pre></pre></td></tr><tr><td data-num="199"></td><td><pre>    <span class="token comment">// 开始动画时的音乐</span></pre></td></tr><tr><td data-num="200"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">startmusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="201"></td><td><pre>        <span class="token keyword">var</span> $music <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;audio src='./我爱平底锅.mp3' loop='loop' autoplay='autoplay'>&lt;/audio>"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="202"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".music"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$music<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="203"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="204"></td><td><pre>    <span class="token comment">// 游戏结束的关闭动画</span></pre></td></tr><tr><td data-num="205"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">stopmusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="206"></td><td><pre>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".music"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="207"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="208"></td><td><pre></pre></td></tr><tr><td data-num="209"></td><td><pre></pre></td></tr><tr><td data-num="210"></td><td><pre>    <span class="token comment">// 向上取整，四舍五入</span></pre></td></tr><tr><td data-num="211"></td><td><pre>    <span class="token comment">/*</span></pre></td></tr><tr><td data-num="212"></td><td><pre>    0  * 8 = 0   == 0</pre></td></tr><tr><td data-num="213"></td><td><pre>    0.1* 8 = 0.8 == 1</pre></td></tr><tr><td data-num="214"></td><td><pre>    0.2* 8 = 1.6 == 2</pre></td></tr><tr><td data-num="215"></td><td><pre>    0.3* 8 = 2.4 == 2</pre></td></tr><tr><td data-num="216"></td><td><pre>    0.4* 8 = 3.2 == 3</pre></td></tr><tr><td data-num="217"></td><td><pre>    0.5* 8 = 4.0 == 4</pre></td></tr><tr><td data-num="218"></td><td><pre>    0.6* 8 = 4.8 == 5</pre></td></tr><tr><td data-num="219"></td><td><pre>    0.7* 8 = 5.6 == 6</pre></td></tr><tr><td data-num="220"></td><td><pre>    0.8* 8 = 6.4 == 6</pre></td></tr><tr><td data-num="221"></td><td><pre>    0.9* 8 = 7.2 == 7</pre></td></tr><tr><td data-num="222"></td><td><pre>    1* 8 =  8    == 8</pre></td></tr><tr><td data-num="223"></td><td><pre>    */</pre></td></tr><tr><td data-num="224"></td><td><pre>    <span class="token comment">// console.log(Math.random());</span></pre></td></tr><tr><td data-num="225"></td><td><pre>    <span class="token comment">//console.log (Math.round (0.5));// 向上取整</span></pre></td></tr><tr><td data-num="226"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><div class="tags"><a href="/tags/js/" rel="tag"><i class="ic i-tag"></i> js</a> <a href="/tags/html/" rel="tag"><i class="ic i-tag"></i> html</a> <a href="/tags/css/" rel="tag"><i class="ic i-tag"></i> css</a> <a href="/tags/jquery/" rel="tag"><i class="ic i-tag"></i> jquery</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2020-10-31 14:46:18" itemprop="dateModified" datetime="2020-10-31T14:46:18+08:00">2020-10-31</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="DG 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="DG 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="DG 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>DG <i class="ic i-at"><em>@</em></i>扯淡的小情绪</li><li class="link"><strong>本文链接：</strong> <a href="http://www.dgredamancy.com/posts/70bdb624/index.html" title="jQuery案例 -- 狂拍灰太狼">http://www.dgredamancy.com/posts/70bdb624/index.html</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="nav"><div class="item left"><a href="/posts/4e083176/index.html" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclfw2t96j20zk0m8x6p.jpg" title="jQuery案例 -- 新浪微博"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> jQuery</span><h3>jQuery案例 -- 新浪微博</h3></a></div><div class="item right"><a href="/posts/76696bd6/index.html" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclj9410cj20zk0m8h12.jpg" title="jQuery案例 -- qq音乐以及初步解决Ajax 跨域问题"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> jQuery</span><h3>jQuery案例 -- qq音乐以及初步解决Ajax 跨域问题</h3></a></div></div><div class="wrap" id="comments" data-id="posts/70bdb624/"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8B%82%E6%8B%8D%E7%81%B0%E5%A4%AA%E7%8B%BC%E8%A1%A5%E5%85%85%E9%9F%B3%E6%95%88"><span class="toc-number">1.</span> <span class="toc-text">狂拍灰太狼 (补充音效)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-number">1.1.</span> <span class="toc-text">案例效果展示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%9E%84%E6%9E%B6"><span class="toc-number">1.2.</span> <span class="toc-text">案例构架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%80%9D%E8%B7%AF"><span class="toc-number">1.3.</span> <span class="toc-text">案例思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E6%8B%86%E8%A7%A3"><span class="toc-number">1.4.</span> <span class="toc-text">效果拆解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E6%B8%B8%E6%88%8F%E7%95%8C%E9%9D%A2"><span class="toc-number">1.4.1.</span> <span class="toc-text">开始游戏界面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E6%B8%B8%E6%88%8F%E7%95%8C%E9%9D%A2"><span class="toc-number">1.4.2.</span> <span class="toc-text">重新游戏界面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E8%A7%84%E5%88%99%E7%95%8C%E9%9D%A2"><span class="toc-number">1.4.3.</span> <span class="toc-text">游戏规则界面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E5%8A%A0%E5%88%86%E5%87%8F%E5%88%86"><span class="toc-number">1.4.4.</span> <span class="toc-text">游戏加分减分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-number">1.4.5.</span> <span class="toc-text">时间进度条</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80"><span class="toc-number">1.5.</span> <span class="toc-text">图片地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA"><span class="toc-number">1.6.</span> <span class="toc-text">代码展示</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/posts/92b14bcb/index.html" rel="bookmark" title="jQueryDOM操作相关方法">jQueryDOM操作相关方法</a></li><li><a href="/posts/10ec127a/index.html" rel="bookmark" title="jQuery事件操作相关方法">jQuery事件操作相关方法</a></li><li><a href="/posts/34572a6c/index.html" rel="bookmark" title="jQuery事件相关">jQuery事件相关</a></li><li><a href="/posts/d8a6969d/index.html" rel="bookmark" title="jQuery事件相关案例 -- 电影排行榜、Tab选项卡">jQuery事件相关案例 -- 电影排行榜、Tab选项卡</a></li><li><a href="/posts/6865c61f/index.html" rel="bookmark" title="jQuery入口函数">jQuery入口函数</a></li><li><a href="/posts/e6ab0377/index.html" rel="bookmark" title="jQuery动效">jQuery动效</a></li><li><a href="/posts/31e2568c/index.html" rel="bookmark" title="jQuery动效案例(一) -- 弹窗广告、对联广告">jQuery动效案例(一) -- 弹窗广告、对联广告</a></li><li><a href="/posts/47fe63ce/index.html" rel="bookmark" title="jQuery动效案例(三) -- 下拉菜单、折叠菜单">jQuery动效案例(三) -- 下拉菜单、折叠菜单</a></li><li><a href="/posts/b864c9a5/index.html" rel="bookmark" title="jQuery动效案例(二) -- 图标特效、无限循环滚动(简易轮播图)">jQuery动效案例(二) -- 图标特效、无限循环滚动(简易轮播图)</a></li><li><a href="/posts/43995f7a/index.html" rel="bookmark" title="jQuery原型上的属性和方法">jQuery原型上的属性和方法</a></li><li><a href="/posts/64dcfb2e/index.html" rel="bookmark" title="jQuery基本结构">jQuery基本结构</a></li><li><a href="/posts/e855a0a0/index.html" rel="bookmark" title="jQuery对象 -- CSS相关">jQuery对象 -- CSS相关</a></li><li><a href="/posts/2e292e66/index.html" rel="bookmark" title="jQuery对象 -- 属性操作">jQuery对象 -- 属性操作</a></li><li><a href="/posts/31f5654a/index.html" rel="bookmark" title="jQuery对象 -- 选择器">jQuery对象 -- 选择器</a></li><li><a href="/posts/edc76abe/index.html" rel="bookmark" title="jQuery属性操作相关方法">jQuery属性操作相关方法</a></li><li><a href="/posts/ea84d9f3/index.html" rel="bookmark" title="jQuery核心函数和工具方法">jQuery核心函数和工具方法</a></li><li><a href="/posts/76696bd6/index.html" rel="bookmark" title="jQuery案例 -- qq音乐以及初步解决Ajax 跨域问题">jQuery案例 -- qq音乐以及初步解决Ajax 跨域问题</a></li><li><a href="/posts/4e083176/index.html" rel="bookmark" title="jQuery案例 -- 新浪微博">jQuery案例 -- 新浪微博</a></li><li class="active"><a href="/posts/70bdb624/index.html" rel="bookmark" title="jQuery案例 -- 狂拍灰太狼">jQuery案例 -- 狂拍灰太狼</a></li><li><a href="/posts/31307823/index.html" rel="bookmark" title="jQuery节点操作">jQuery节点操作</a></li><li><a href="/posts/c1e02dc1/index.html" rel="bookmark" title="初识jQuery">初识jQuery</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="DG" data-src="/images/avatar.jpg"><p class="name" itemprop="name">DG</p><div class="description" itemprop="description">一个奋斗的小青年</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">87</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">11</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">74</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2RqMjI5NjM5NDUxMw==" title="https:&#x2F;&#x2F;github.com&#x2F;dj2296394513"><i class="ic i-github"></i></span> <span class="exturl item CSDN" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RlYXRoRG9tYWlu" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;DeathDomain"><i class="ic i-magic"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/posts/4e083176/index.html" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/posts/76696bd6/index.html" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">DG @ 扯淡的小情绪</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"http://www.dgredamancy.com/posts/70bdb624/",favicon:{show:"（●´3｀●）あなたを待っています",hide:"ペンギン！"},search:{placeholder:"文章搜索",empty:"关于 ${query} ，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(t){return t.includes("#")},function(t){return t===LOCAL.path}]}</script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/velocity-animate@1.5.2/velocity.min.js,npm/velocity-animate@1.5.2/velocity.ui.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.1.6"></script></body></html>